<Window x:Class="StreamManager.Views.Dialogs.UsuarioDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Gestión de Usuario"
        Height="550"
        Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{DynamicResource MaterialDesignPaper}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <materialDesign:ColorZone Grid.Row="0"
                                  Mode="PrimaryMid"
                                  Padding="24,16">
            <StackPanel Orientation="Horizontal">
                <materialDesign:PackIcon Kind="AccountCog"
                                        Width="28"
                                        Height="28"
                                        VerticalAlignment="Center"
                                        Margin="0,0,12,0"/>
                <TextBlock x:Name="TituloTextBlock"
                          Text="Nuevo Usuario"
                          FontSize="24"
                          FontWeight="Bold"
                          VerticalAlignment="Center"/>
            </StackPanel>
        </materialDesign:ColorZone>

        <!-- Formulario -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="24">
                
                <!-- Nombre Completo -->
                <TextBox x:Name="NombreTextBox"
                        materialDesign:HintAssist.Hint="Nombre Completo *"
                        Style="{StaticResource MaterialDesignOutlinedTextBox}"
                        Margin="0,0,0,16"
                        FontSize="14"/>

                <!-- Email -->
                <TextBox x:Name="EmailTextBox"
                        materialDesign:HintAssist.Hint="Correo Electrónico *"
                        Style="{StaticResource MaterialDesignOutlinedTextBox}"
                        Margin="0,0,0,16"
                        FontSize="14"/>

                <!-- Contraseña (solo al crear) -->
                <PasswordBox x:Name="PasswordBox"
                            materialDesign:HintAssist.Hint="Contraseña *"
                            Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                            Margin="0,0,0,16"
                            FontSize="14"/>

                <TextBlock x:Name="PasswordInfoText"
                          Text="Mínimo 8 caracteres"
                          FontSize="11"
                          Opacity="0.6"
                          Margin="0,-12,0,16"/>

                <!-- Rol -->
                <ComboBox x:Name="RolComboBox"
                         materialDesign:HintAssist.Hint="Rol *"
                         Style="{StaticResource MaterialDesignOutlinedComboBox}"
                         Margin="0,0,0,16"
                         FontSize="14">
                    <ComboBoxItem Content="Administrador" Tag="admin"/>
                    <ComboBoxItem Content="Vendedor" Tag="vendedor" IsSelected="True"/>
                </ComboBox>

                <!-- Estado -->
                <ComboBox x:Name="EstadoComboBox"
                         materialDesign:HintAssist.Hint="Estado *"
                         Style="{StaticResource MaterialDesignOutlinedComboBox}"
                         Margin="0,0,0,16"
                         FontSize="14">
                    <ComboBoxItem Content="Activo" Tag="activo" IsSelected="True"/>
                    <ComboBoxItem Content="Inactivo" Tag="inactivo"/>
                </ComboBox>

                <!-- Nota informativa -->
                <Border Background="#E3F2FD"
                       CornerRadius="4"
                       Padding="12"
                       Margin="0,8,0,0">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                            <materialDesign:PackIcon Kind="Information"
                                                    Width="16"
                                                    Height="16"
                                                    Foreground="#1976D2"
                                                    VerticalAlignment="Center"
                                                    Margin="0,0,8,0"/>
                            <TextBlock Text="Roles del sistema"
                                      FontSize="12"
                                      FontWeight="SemiBold"
                                      Foreground="#1976D2"/>
                        </StackPanel>
                        <TextBlock TextWrapping="Wrap"
                                  FontSize="11"
                                  Foreground="#555555">
                            <Run Text="• Administrador:"/>
                            <Run Text="Acceso completo, ve montos y reportes"/>
                            <LineBreak/>
                            <Run Text="• Vendedor:"/>
                            <Run Text="Solo operaciones, no ve información financiera"/>
                        </TextBlock>
                    </StackPanel>
                </Border>
            </StackPanel>
        </ScrollViewer>

        <!-- Footer -->
        <Border Grid.Row="2"
                BorderBrush="#E0E0E0"
                BorderThickness="0,1,0,0"
                Padding="24,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="1"
                       Content="CANCELAR"
                       Style="{StaticResource MaterialDesignOutlinedButton}"
                       Click="CancelarButton_Click"
                       Margin="0,0,8,0"
                       Width="120"/>

                <Button Grid.Column="2"
                       x:Name="GuardarButton"
                       Content="GUARDAR"
                       Style="{StaticResource MaterialDesignRaisedButton}"
                       Click="GuardarButton_Click"
                       Width="120"/>
            </Grid>
        </Border>
    </Grid>
</Window>
