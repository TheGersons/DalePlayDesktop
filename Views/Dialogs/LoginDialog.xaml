<Window x:Class="StreamManager.Views.Dialogs.LoginDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Iniciar Sesión - StreamManager"
        Height="500"
        Width="450"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        WindowStyle="None"
        Background="Transparent"
        AllowsTransparency="True">

    <Border Background="{DynamicResource MaterialDesignPaper}"
            CornerRadius="12"
            materialDesign:ElevationAssist.Elevation="Dp8">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <materialDesign:ColorZone Grid.Row="0"
                                      Mode="PrimaryMid"
                                      Padding="24,32"
                                      CornerRadius="12,12,0,0">
                <StackPanel HorizontalAlignment="Center">
                    <materialDesign:PackIcon Kind="AccountCircle"
                                            Width="64"
                                            Height="64"
                                            HorizontalAlignment="Center"
                                            Margin="0,0,0,16"/>
                    <TextBlock Text="StreamManager"
                              FontSize="28"
                              FontWeight="Bold"
                              HorizontalAlignment="Center"/>
                    <TextBlock Text="Iniciar Sesión"
                              FontSize="14"
                              Opacity="0.8"
                              HorizontalAlignment="Center"
                              Margin="0,4,0,0"/>
                </StackPanel>
            </materialDesign:ColorZone>

            <!-- Formulario -->
            <StackPanel Grid.Row="1"
                       Margin="40,32">
                
                <!-- Email -->
                <TextBox x:Name="EmailTextBox"
                        materialDesign:HintAssist.Hint="Correo Electrónico"
                        Style="{StaticResource MaterialDesignOutlinedTextBox}"
                        Margin="0,0,0,24"
                        FontSize="14"
                        KeyDown="EmailTextBox_KeyDown">
                    <TextBox.InputBindings>
                        <KeyBinding Key="Enter" Command="{x:Null}"/>
                    </TextBox.InputBindings>
                </TextBox>

                <!-- Contraseña -->
                <PasswordBox x:Name="PasswordBox"
                            materialDesign:HintAssist.Hint="Contraseña"
                            Style="{StaticResource MaterialDesignOutlinedPasswordBox}"
                            Margin="0,0,0,32"
                            FontSize="14"
                            KeyDown="PasswordBox_KeyDown"/>

                <!-- Mensaje de error -->
                <TextBlock x:Name="ErrorTextBlock"
                          Text=""
                          Foreground="#F44336"
                          FontSize="12"
                          Margin="0,0,0,16"
                          TextWrapping="Wrap"
                          Visibility="Collapsed"
                          HorizontalAlignment="Center"/>

                <!-- Botones -->
                <Grid Margin="0,8,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Button Grid.Column="0"
                           Content="CANCELAR"
                           Style="{StaticResource MaterialDesignOutlinedButton}"
                           Click="CancelarButton_Click"
                           Margin="0,0,8,0"
                           Height="40"/>

                    <Button Grid.Column="1"
                           x:Name="LoginButton"
                           Content="INICIAR SESIÓN"
                           Style="{StaticResource MaterialDesignRaisedButton}"
                           Click="LoginButton_Click"
                           Margin="8,0,0,0"
                           Height="40"/>
                </Grid>

                <!-- Loading -->
                <ProgressBar x:Name="LoadingProgressBar"
                            Style="{StaticResource MaterialDesignCircularProgressBar}"
                            Value="0"
                            IsIndeterminate="True"
                            Width="32"
                            Height="32"
                            Margin="0,16,0,0"
                            Visibility="Collapsed"
                            HorizontalAlignment="Center"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
