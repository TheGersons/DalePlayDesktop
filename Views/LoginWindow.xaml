<Window x:Class="StreamManager.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Dale play - Inicio de Sesión" 
        Height="700" 
        Width="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{DynamicResource MaterialDesignPaper}">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="150"/>
            <RowDefinition Height="530"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <materialDesign:ColorZone Grid.Row="0" 
                                   Mode="PrimaryMid" 
                                   Padding="16">
            <StackPanel>
                <materialDesign:PackIcon Kind="Television" 
                                        Width="48" 
                                        Height="48"
                                        HorizontalAlignment="Center"/>
                <TextBlock Text="Dale Play" 
                          FontSize="24" 
                          FontWeight="Bold"
                          HorizontalAlignment="Center"
                          Margin="0,8,0,0"/>
                <TextBlock Text="Sistema de Gestión de Streaming" 
                          FontSize="12"
                          HorizontalAlignment="Center"
                          Opacity="0.8"/>
            </StackPanel>
        </materialDesign:ColorZone>

        <!-- Formulario de Login -->
        <materialDesign:Card Grid.Row="1" 
                             Margin="32" 
                             Padding="32"
                             materialDesign:ElevationAssist.Elevation="Dp4">
            <StackPanel>
                <TextBlock Text="Iniciar Sesión" 
                          FontSize="20" 
                          FontWeight="SemiBold"
                          Margin="0,0,0,24"
                          HorizontalAlignment="Center"/>

                <!-- Email -->
                <TextBox x:Name="EmailTextBox"
                        materialDesign:HintAssist.Hint="Correo Electrónico"
                        Style="{StaticResource MaterialDesignFilledTextBox}"
                        Margin="0,0,0,16"
                        KeyDown="TextBox_KeyDown">
                    <TextBox.Text>
                        <Binding Path="Email" UpdateSourceTrigger="PropertyChanged">
                            <Binding.ValidationRules>
                                <DataErrorValidationRule/>
                            </Binding.ValidationRules>
                        </Binding>
                    </TextBox.Text>
                </TextBox>

                <!-- Contraseña -->
                <PasswordBox x:Name="PasswordBox"
                            materialDesign:HintAssist.Hint="Contraseña"
                            Style="{StaticResource MaterialDesignFilledPasswordBox}"
                            Margin="0,0,0,24"
                            KeyDown="PasswordBox_KeyDown"/>

                <!-- Mensaje de Error -->
                <TextBlock x:Name="ErrorTextBlock"
                          Foreground="Red"
                          TextWrapping="Wrap"
                          Margin="0,0,0,16"
                          Visibility="Collapsed"/>

                <!-- Botón Login -->
                <Button x:Name="LoginButton"
        Style="{StaticResource MaterialDesignRaisedButton}"
        Height="40"
        Click="LoginButton_Click"
        IsDefault="True">
                    <Button.Content>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Login" 
                                    VerticalAlignment="Center"
                                    Margin="0,0,8,0"/>
                            <TextBlock Text="INICIAR SESIÓN" 
                      VerticalAlignment="Center"/>
                        </StackPanel>
                    </Button.Content>
                </Button>

                <!-- Loading Indicator -->
                <ProgressBar x:Name="LoadingProgressBar"
                            IsIndeterminate="True"
                            Visibility="Collapsed"
                            Margin="0,16,0,0"/>

               
            </StackPanel>
        </materialDesign:Card>
    </Grid>
</Window>
